services:
  # Pterodactyl Wings - Game Server Daemon
  wings:
    image: ghcr.io/pterodactyl/wings:latest
    container_name: wings
    restart: unless-stopped
    ports:
      - "8080:8080"
      - "25565-25575:25565-25575"  # Minecraft and other game ports
    environment:
      - WINGS_DEBUG=false
      - WINGS_PANEL_URL=http://192.168.1.10
      - WINGS_TOKEN=${WINGS_TOKEN}  # Set in .env file
    volumes:
      - /var/lib/pterodactyl:/var/lib/pterodactyl
      - /var/run/docker.sock:/var/run/docker.sock
    networks:
      - homelab

  # Prowlarr - Indexer Manager
  prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./prowlarr:/config
    ports:
      - "9696:9696"
    restart: unless-stopped
    networks:
      - homelab

  # qBittorrent - Download Client
  qbittorrent:
    image: lscr.io/linuxserver/qbittorrent:latest
    container_name: qbittorrent
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - WEBUI_PORT=8080
    volumes:
      - ./qbittorrent:/config
      - /mnt/nas/downloads:/downloads  # Mount your NAS download folder
    ports:
      - "8081:8080"  # Web UI
      - "6881:6881"  # TCP
      - "6881:6881/udp"  # UDP
    restart: unless-stopped
    networks:
      - homelab

  # Sonarr - TV Shows
  sonarr:
    image: lscr.io/linuxserver/sonarr:latest
    container_name: sonarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./sonarr:/config
      - /mnt/nas/tv:/tv  # Mount your NAS TV folder
      - /mnt/nas/downloads:/downloads
    ports:
      - "8989:8989"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - prowlarr
      - qbittorrent

  # Radarr - Movies
  radarr:
    image: lscr.io/linuxserver/radarr:latest
    container_name: radarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./radarr:/config
      - /mnt/nas/movies:/movies  # Mount your NAS movies folder
      - /mnt/nas/downloads:/downloads
    ports:
      - "7878:7878"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - prowlarr
      - qbittorrent

  # Lidarr - Music
  lidarr:
    image: lscr.io/linuxserver/lidarr:latest
    container_name: lidarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./lidarr:/config
      - /mnt/nas/music:/music  # Mount your NAS music folder
      - /mnt/nas/downloads:/downloads
    ports:
      - "8686:8686"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - prowlarr
      - qbittorrent

  # Readarr - Books & Audiobooks
  readarr:
    image: lscr.io/linuxserver/readarr:latest
    container_name: readarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./readarr:/config
      - /mnt/nas/audiobooks:/audiobooks  # Mount your NAS audiobooks folder
      - /mnt/nas/books:/books  # Mount your NAS books folder (for ebooks)
      - /mnt/nas/downloads:/downloads
    ports:
      - "8787:8787"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - prowlarr
      - qbittorrent

  # Bazarr - Subtitles
  bazarr:
    image: lscr.io/linuxserver/bazarr:latest
    container_name: bazarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./bazarr:/config
      - /mnt/nas/tv:/tv
      - /mnt/nas/movies:/movies
    ports:
      - "6767:6767"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - sonarr
      - radarr

  # Overseerr - Request Management
  overseerr:
    image: lscr.io/linuxserver/overseerr:latest
    container_name: overseerr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./overseerr:/config
    ports:
      - "5055:5055"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - sonarr
      - radarr

  # Ombi - Request Management (Alternative to Overseerr)
  ombi:
    image: lscr.io/linuxserver/ombi:latest
    container_name: ombi
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./ombi:/config
    ports:
      - "3579:3579"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - sonarr
      - radarr
      - lidarr
      - readarr

  # Tautulli - Plex Monitoring & Analytics
  tautulli:
    image: tautulli/tautulli:latest
    container_name: tautulli
    restart: unless-stopped
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./tautulli:/config
    ports:
      - "8181:8181"
    networks:
      - homelab

  # Mylar - Comic Book Management
  mylar:
    image: lscr.io/linuxserver/mylar:latest
    container_name: mylar
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - ./mylar:/config
      - /mnt/nas/comics:/comics  # Mount your NAS comics folder
      - /mnt/nas/downloads:/downloads
    ports:
      - "8090:8090"
    restart: unless-stopped
    networks:
      - homelab
    depends_on:
      - prowlarr
      - qbittorrent

networks:
  homelab:
    driver: bridge

